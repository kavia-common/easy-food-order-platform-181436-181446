{"is_source_file": true, "format": "Python", "description": "This file defines dependency injection functions for database sessions and user authentication using FastAPI, OAuth2, and SQLAlchemy. It provides accessor functions for database sessions and the current authenticated user, intended for use within the API infrastructure.", "external_files": ["./database", "./models", "./routers/auth"], "external_methods": ["get_async_session", "_resolve_current_user"], "published": ["get_db", "get_current_user"], "classes": [], "methods": [{"name": "AsyncSession get_db()", "description": "Provides an asynchronous database session for dependency injection.", "scope": "", "scopeKind": ""}, {"name": "User get_current_user(token: str = Depends(oauth2_scheme), session: AsyncSession = Depends(get_db))", "description": "Retrieves the current authenticated user based on the provided token, handling exceptions as necessary.", "scope": "", "scopeKind": ""}], "calls": ["get_async_session()", "_resolve_current_user(token=token, session=session)"], "search-terms": ["auth dependencies", "FastAPI dependency injection", "OAuth2PasswordBearer", "async database session", "current user retrieval"], "state": 2, "file_id": 10, "knowledge_revision": 71, "git_revision": "da0ed80d948638cbb249bf1b9aa8f0b989cbe509", "revision_history": [{"22": ""}, {"71": "da0ed80d948638cbb249bf1b9aa8f0b989cbe509"}], "ctags": [{"_type": "tag", "name": "_resolve_current_user", "path": "/home/kavia/workspace/code-generation/easy-food-order-platform-181436-181446/food_ordering_backend/src/api/deps.py", "pattern": "/^from .routers.auth import get_current_user as _resolve_current_user$/", "language": "Python", "kind": "unknown", "nameref": "unknown:get_current_user"}, {"_type": "tag", "name": "get_current_user", "path": "/home/kavia/workspace/code-generation/easy-food-order-platform-181436-181446/food_ordering_backend/src/api/deps.py", "pattern": "/^async def get_current_user(token: str = Depends(oauth2_scheme), session: AsyncSession = Depends(/", "language": "Python", "typeref": "typename:User", "kind": "function", "signature": "(token: str = Depends(oauth2_scheme), session: AsyncSession = Depends(get_db))"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/easy-food-order-platform-181436-181446/food_ordering_backend/src/api/deps.py", "pattern": "/^async def get_db() -> AsyncSession:$/", "language": "Python", "typeref": "typename:AsyncSession", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "oauth2_scheme", "path": "/home/kavia/workspace/code-generation/easy-food-order-platform-181436-181446/food_ordering_backend/src/api/deps.py", "pattern": "/^oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/auth\\/login\")$/", "language": "Python", "kind": "variable"}], "hash": "09fe601f109dd2df3ed8ebf0f44a2c24", "format-version": 4, "code-base-name": "food_ordering_backend", "filename": "food_ordering_backend/src/api/deps.py", "fields": [{"name": "oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/auth\\/login\")", "scope": "", "scopeKind": "", "description": "unavailable"}]}